# Response to Feedback v7

## Checklist

- [ ] blocker.1: Fix getAllSsoAccountAssignments input contract
  - [ ] Change `accountId: string` to `target: Ref<typeof DeclaredAwsOrganizationAccount>`
  - [ ] Change input to `{ where: {...}, page?: {...} }` pattern
  - [ ] Check all other getAll methods for same pattern conformance
- [ ] blocker.2: Eliminate unnecessary ifs - use `??` pattern
  - [ ] Fix all `if (!instance) UnexpectedCodePathError.throw(...)` patterns
- [ ] blocker.3: Use getAllSsoPermissionSets instead of direct AWS SDK call
  - [ ] Replace ListPermissionSetsCommand with getAllSsoPermissionSets call in getOneSsoPermissionSet
- [ ] blocker.4: Move inline casts to cast functions
  - [ ] Move inline policy parsing to castIntoDeclaredAwsIamPolicyDocument
  - [ ] Move policy bundle construction to cast function
  - [ ] Move tags parsing to cast function
- [ ] blocker.5: Simplify getOneSsoPermissionSet logic
  - [ ] Make the logic more linear and narrative
- [ ] Remove unused DeclaredAwsSsoInstance import from getOneSsoPermissionSet.ts
- [ ] Run tests to verify all changes

## Execution Log

### blocker.1: Fix getAllSsoAccountAssignments input contract

