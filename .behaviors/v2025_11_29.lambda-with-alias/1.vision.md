we should be able to replace serverless all togetehr. e.g.,


=====

after

```ts
const endpoints = [
  'getServiceBySlug',
  'getServiceByUuid',
]
const project = 'svc-home-services';

const ALIASES_DESIRED = [
  // if asked to set it as live, set the live alias
  ...(SET_AS_LIVE ? ['LIVE'] : []),

  // set all the adhoc aliases too
  ...process.env.SET_WITH_ALIASES?.trim().split(',').filter(alias => alias.length) ?? [],
].filter(isPresent)

const getResources = () => {
  const environment = await getEnvironment();

  const role = DeclaredAwsIamRole({
    ...,
  })

  // declare what we want the $latest to look like for each lambda, to support publication of new versions
  // !: note that this is why its critical lambdas are always identified with an explicit qualifier. $latest is used to deploy test artifacts before we're ready to cutover all the time!
  const lambdas = endpoints.map(endpoint => DeclaredAwsLambda.as({
    // identity
    name: [project, environment.access, endpoint].join('.'),

    // access
    role: RefByUnique.as<typeof DeclaredAwsIamRole>(role),

    // runtime
    runtime: 'nodejs20.x',
    handler: `dist/contract/apis/${endpoint}.handler`
    codeZipUri: '.artifact/contents.zip'
    timeout: 30,
    memory: 1024,
    envars: {
      TZ: 'UTC', // guarantee that utc timezone will be used explicitly, to facilitate a pit of success
      NODE_ENV: 'production', // deploy with production optimizations of all resources, to make `dev` and `prod` stage deployments equivalent functionally (i.e., the same code paths in dev and prod)
      AWS_NODEJS_CONNECTION_REUSE_ENABLED: true, // https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/node-reusing-connections.html
    },

    // observability
    tags: {
      organization: 'ahbode',
      project,
      access: environment.access,
    },
  }))

  // declare the versions we want to release
  const versions = lambdas.map(lambda =>
    // declare a version
    DeclaredAwsLambdaVersion.as({
      // of this lambda
      lambda: RefByUnique.as<typeof DeclaredAwsLambda>(lambda),

      // for the latest versions of the config
      codeSha256: calcCodeSha256({ of: lambda }),
      configSha256: calcConfigSha256({ of: lambda }),

      // no description needed
      description: null,
    })
  )

  // set aliases for these versions
  const aliases =
    versionsDesired.map(version =>
      ALIASES_DESIRED.map(alias =>
        DeclaredAwsLambdaAlias.as({
          name: alias,
          lambda: version.lambda,
          version: RefByUnique.as<typeof DeclaredAwsLambdaVersion>(version),
        })
      )
    ).flat()

  // and return each
  return [role, ...lambdas, ...versions, ...aliases]
}
```

and pruning can be done in a separate resource declaration; separate invocation too


=====

before

```yaml
service: svc-home-services

package:
  artifact: .artifact/contents.zip

plugins:
  - serverless-prune-plugin

provider:
  name: aws
  runtime: nodejs16.x
  memorySize: 1024 # optional, in MB, default is 1024
  timeout: 60 # default timeout to 1min, for resilience against increased cold start times; individual functions can override this
  stage: ${opt:stage}
  stackTags:
    app: ahbode
    environment: ${self:provider.stage}
    product: ${self:service}
  environment:
    TZ: UTC # guarantee that utc timezone will be used explicitly, to facilitate a pit of success
    NODE_ENV: production # deploy with production optimizations of all resources, to make `dev` and `prod` stage deployments equivalent functionally (i.e., the same code paths in dev and prod)
    STAGE: ${self:provider.stage} # deploy specifying which stage we're targeting, to enable targeting the correct config + resources (e.g., hit dev db -vs- prod db)
    AWS_NODEJS_CONNECTION_REUSE_ENABLED: true # https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/node-reusing-connections.html
  deploymentBucket: serverless-deployment-7ade8a21-${self:provider.stage}
  iamRoleStatements:
    # parameter store access
    - Effect: 'Allow'
      Action: 'ssm:DescribeParameters'
      Resource: '*'
    - Effect: 'Allow'
      Action: 'ssm:GetParameters'
      Resource: arn:aws:ssm:${aws:region}:${aws:accountId}:parameter/*
    - Effect: 'Allow'
      Action: 'kms:Decrypt'
      Resource: arn:aws:kms:${aws:region}:${aws:accountId}:alias/aws/ssm*
    # allow invocation of other lambdas
    - Effect: Allow
      Action:
        - lambda:InvokeFunction
        - lambda:InvokeAsync
      Resource: '*'
    # allow reading and writing to s3 buckets namespaced by this service
    - Effect: Allow
      Action:
        - s3:ListObject
        - s3:GetObject
        - s3:PutObject
      Resource: arn:aws:s3:::${self:service}-*
    # allow reading and writing to sqs queues namespaced to this service
    - Effect: Allow
      Action:
        - sqs:SendMessage
        - sqs:ReceiveMessage
        - sqs:DeleteMessage
        - sqs:GetQueueAttributes
      Resource: arn:aws:sqs:${aws:region}:${aws:accountId}:${self:service}-*
    # allow reading and writing to dynamodb tables namespaced to this service
    - Effect: Allow
      Action:
        - dynamodb:DescribeTable
        - dynamodb:Query
        - dynamodb:Scan
        - dynamodb:GetItem
        - dynamodb:PutItem
      Resource: arn:aws:dynamodb:${aws:region}:${aws:accountId}:table/${self:service}-*
    # allow publishing to sns topics namespaced by this service
    - Effect: Allow
      Action:
        - SNS:Publish
      Resource: arn:aws:sns:${aws:region}:${aws:accountId}:${self:service}-*
    # allow RDS Data API access
    - Effect: Allow
      Action:
        - rds-data:ExecuteStatement
        - rds-data:BatchExecuteStatement
        - rds-data:BeginTransaction
        - rds-data:CommitTransaction
        - rds-data:RollbackTransaction
      Resource: arn:aws:rds:${aws:region}:${aws:accountId}:cluster:ahbodedb*
    # allow Secrets Manager access for RDS Data API credentials
    - Effect: Allow
      Action:
        - secretsmanager:GetSecretValue
      Resource: arn:aws:secretsmanager:${aws:region}:${aws:accountId}:secret:rds-db-credentials/*

functions:
  getServiceBySlug:
    handler: dist/contract/apis/getServiceBySlug.handler
  getServiceByUuid:
    handler: dist/contract/apis/getServiceByUuid.handler
```
