# AWS Domain Research for Lambda Log Trends (v2)

## Context

The wish is to declaratively:
1. Get a histogram of log messages emitted by a given set of lambdas
   - What are the common `.message` attributes?
   - How often do they occur?
   - How large are the messages?
2. Optionally get the report of ingestion cost declaratively

This research documents the AWS domain objects and operations using `domain-objects` syntax consistent with this codebase.

---

## Domain Objects

### Entities

#### DeclaredAwsCloudWatchLogGroup

```typescript
import { UniDateTime } from '@ehmpathy/uni-time';
import { DomainEntity, DomainLiteral } from 'domain-objects';

/**
 * .what = a declarative structure representing an AWS CloudWatch Log Group
 * .why = enables declarative control of log group resources
 */
export interface DeclaredAwsCloudWatchLogGroup {
  /**
   * .what = the arn of the log group
   * .note = is @metadata -> may be undefined
   */
  arn?: string;

  /**
   * .what = the name of the log group
   * .example = `/aws/lambda/svc-chat-prod-getDisplayableMessages`
   */
  name: string;

  /**
   * .what = the storage class of the log group
   */
  logGroupClass: DeclaredAwsCloudWatchLogGroupClass;

  /**
   * .what = how long logs are retained in days
   * .note = null means never expire
   */
  retentionInDays: number | null;

  /**
   * .what = total bytes stored in this log group
   * .note = is @readonly -> updated with ~24hr delay
   */
  storedBytes?: number;

  /**
   * .what = optional KMS key for encryption
   */
  kmsKeyId?: string;

  /**
   * .what = when the log group was created
   * .note = is @metadata
   */
  createdAt?: UniDateTime;
}

export class DeclaredAwsCloudWatchLogGroup
  extends DomainEntity<DeclaredAwsCloudWatchLogGroup>
  implements DeclaredAwsCloudWatchLogGroup
{
  public static primary = ['arn'] as const;
  public static unique = ['name'] as const;
  public static metadata = ['arn', 'createdAt'] as const;
  public static readonly = ['storedBytes'] as const;
}
```

#### DeclaredAwsCloudWatchLogStream

```typescript
import { UniDateTime } from '@ehmpathy/uni-time';
import { DomainEntity, RefByUnique } from 'domain-objects';

import { DeclaredAwsCloudWatchLogGroup } from './DeclaredAwsCloudWatchLogGroup';

/**
 * .what = a declarative structure representing an AWS CloudWatch Log Stream
 * .why = enables declarative access to log streams within a log group
 */
export interface DeclaredAwsCloudWatchLogStream {
  /**
   * .what = the arn of the log stream
   * .note = is @metadata
   */
  arn?: string;

  /**
   * .what = the name of the log stream
   * .example = `2024/01/15/[$LATEST]abc123def456`
   */
  name: string;

  /**
   * .what = reference to the parent log group
   */
  logGroup: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>;

  /**
   * .what = when the stream was created
   * .note = is @metadata
   */
  createdAt?: UniDateTime;

  /**
   * .what = timestamp of first log event
   * .note = is @readonly
   */
  firstEventAt?: UniDateTime;

  /**
   * .what = timestamp of most recent log event
   * .note = is @readonly
   */
  lastEventAt?: UniDateTime;

  /**
   * .what = when CloudWatch last received a log event
   * .note = is @readonly
   */
  lastIngestionAt?: UniDateTime;

  /**
   * .what = bytes stored in this stream
   * .note = is @readonly
   */
  storedBytes?: number;
}

export class DeclaredAwsCloudWatchLogStream
  extends DomainEntity<DeclaredAwsCloudWatchLogStream>
  implements DeclaredAwsCloudWatchLogStream
{
  public static primary = ['arn'] as const;
  public static unique = ['logGroup', 'name'] as const;
  public static metadata = ['arn', 'createdAt'] as const;
  public static readonly = ['firstEventAt', 'lastEventAt', 'lastIngestionAt', 'storedBytes'] as const;
  public static nested = {
    logGroup: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>,
  };
}
```

#### DeclaredAwsCloudWatchLogsQuery

```typescript
import { UniDateTime } from '@ehmpathy/uni-time';
import { DomainEntity, RefByUnique } from 'domain-objects';

import { DeclaredAwsCloudWatchLogGroup } from './DeclaredAwsCloudWatchLogGroup';

/**
 * .what = a declarative structure representing a CloudWatch Logs Insights query
 * .why = enables declarative execution of log analytics queries
 */
export interface DeclaredAwsCloudWatchLogsQuery {
  /**
   * .what = the query id assigned by AWS
   * .note = is @metadata -> assigned when query starts
   */
  queryId?: string;

  /**
   * .what = the log groups to query
   */
  logGroups: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>[];

  /**
   * .what = the query string in Logs Insights syntax
   * .example = `fields @timestamp, @message | stats count(*) by @message`
   */
  queryString: string;

  /**
   * .what = the query language to use
   */
  queryLanguage: DeclaredAwsCloudWatchLogsQueryLanguage;

  /**
   * .what = start of time range to query
   */
  startTime: UniDateTime;

  /**
   * .what = end of time range to query
   */
  endTime: UniDateTime;

  /**
   * .what = maximum number of results to return
   */
  limit?: number;

  /**
   * .what = current status of the query
   * .note = is @readonly
   */
  status?: DeclaredAwsCloudWatchLogsQueryStatus;
}

export class DeclaredAwsCloudWatchLogsQuery
  extends DomainEntity<DeclaredAwsCloudWatchLogsQuery>
  implements DeclaredAwsCloudWatchLogsQuery
{
  public static primary = ['queryId'] as const;
  public static unique = ['logGroups', 'queryString', 'startTime', 'endTime'] as const;
  public static metadata = ['queryId'] as const;
  public static readonly = ['status'] as const;
  public static nested = {
    logGroups: [RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>],
  };
}
```

#### DeclaredAwsCloudWatchLogsQueryDefinition

```typescript
import { DomainEntity, RefByUnique } from 'domain-objects';

import { DeclaredAwsCloudWatchLogGroup } from './DeclaredAwsCloudWatchLogGroup';

/**
 * .what = a declarative structure representing a saved CloudWatch Logs Insights query
 * .why = enables reusable query definitions
 */
export interface DeclaredAwsCloudWatchLogsQueryDefinition {
  /**
   * .what = the query definition id
   * .note = is @metadata
   */
  queryDefinitionId?: string;

  /**
   * .what = the name of the query definition
   */
  name: string;

  /**
   * .what = the query string
   */
  queryString: string;

  /**
   * .what = the log groups this query applies to
   * .note = empty means all log groups
   */
  logGroups: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>[];
}

export class DeclaredAwsCloudWatchLogsQueryDefinition
  extends DomainEntity<DeclaredAwsCloudWatchLogsQueryDefinition>
  implements DeclaredAwsCloudWatchLogsQueryDefinition
{
  public static primary = ['queryDefinitionId'] as const;
  public static unique = ['name'] as const;
  public static metadata = ['queryDefinitionId'] as const;
  public static nested = {
    logGroups: [RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>],
  };
}
```

### Value Objects (Literals)

#### DeclaredAwsCloudWatchLogEvent

```typescript
import { UniDateTime } from '@ehmpathy/uni-time';
import { DomainLiteral, RefByUnique } from 'domain-objects';

import { DeclaredAwsCloudWatchLogGroup } from './DeclaredAwsCloudWatchLogGroup';
import { DeclaredAwsCloudWatchLogStream } from './DeclaredAwsCloudWatchLogStream';

/**
 * .what = a declarative structure representing a single log event
 * .why = represents the fundamental unit of log data
 */
export interface DeclaredAwsCloudWatchLogEvent {
  /**
   * .what = when the log event occurred
   */
  timestamp: UniDateTime;

  /**
   * .what = when CloudWatch received the event
   */
  ingestionTime: UniDateTime;

  /**
   * .what = the log message content
   */
  message: string;

  /**
   * .what = pointer to retrieve this specific event
   * .note = can be used with GetLogRecord
   */
  eventId?: string;

  /**
   * .what = the log stream this event belongs to
   */
  logStream: RefByUnique<typeof DeclaredAwsCloudWatchLogStream>;

  /**
   * .what = the log group this event belongs to
   */
  logGroup: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>;
}

export class DeclaredAwsCloudWatchLogEvent
  extends DomainLiteral<DeclaredAwsCloudWatchLogEvent>
  implements DeclaredAwsCloudWatchLogEvent
{
  public static nested = {
    logStream: RefByUnique<typeof DeclaredAwsCloudWatchLogStream>,
    logGroup: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>,
  };
}
```

#### DeclaredAwsCloudWatchLogsQueryResult

```typescript
import { DomainLiteral } from 'domain-objects';

/**
 * .what = a single row result from a Logs Insights query
 * .why = represents structured query output
 */
export interface DeclaredAwsCloudWatchLogsQueryResult {
  /**
   * .what = the field values for this result row
   * .example = { '@message': 'error', 'count(*)': '42' }
   */
  fields: Record<string, string>;
}

export class DeclaredAwsCloudWatchLogsQueryResult
  extends DomainLiteral<DeclaredAwsCloudWatchLogsQueryResult>
  implements DeclaredAwsCloudWatchLogsQueryResult
{
  public static nested = {
    fields: DomainLiteral,
  };
}
```

#### DeclaredAwsCloudWatchLogsMessageHistogramEntry

```typescript
import { DomainLiteral } from 'domain-objects';

/**
 * .what = a histogram entry for log message analysis
 * .why = represents aggregated message statistics for cost/volume analysis
 */
export interface DeclaredAwsCloudWatchLogsMessageHistogramEntry {
  /**
   * .what = the message pattern or content
   */
  message: string;

  /**
   * .what = how many times this message occurred
   */
  frequency: number;

  /**
   * .what = total bytes for all occurrences of this message
   */
  totalBytes: number;

  /**
   * .what = average bytes per occurrence
   */
  avgBytes: number;

  /**
   * .what = percentage of total log events
   */
  percentOfTotal?: number;
}

export class DeclaredAwsCloudWatchLogsMessageHistogramEntry
  extends DomainLiteral<DeclaredAwsCloudWatchLogsMessageHistogramEntry>
  implements DeclaredAwsCloudWatchLogsMessageHistogramEntry {}
```

#### DeclaredAwsCloudWatchLogsIngestionStats

```typescript
import { UniDateTime } from '@ehmpathy/uni-time';
import { DomainLiteral, RefByUnique } from 'domain-objects';

import { DeclaredAwsCloudWatchLogGroup } from './DeclaredAwsCloudWatchLogGroup';

/**
 * .what = ingestion statistics for a log group
 * .why = enables cost analysis and monitoring
 */
export interface DeclaredAwsCloudWatchLogsIngestionStats {
  /**
   * .what = reference to the log group
   */
  logGroup: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>;

  /**
   * .what = start of the measurement period
   */
  startTime: UniDateTime;

  /**
   * .what = end of the measurement period
   */
  endTime: UniDateTime;

  /**
   * .what = bytes ingested during the period
   */
  incomingBytes: number;

  /**
   * .what = number of log events ingested
   */
  incomingLogEvents: number;

  /**
   * .what = estimated ingestion cost in USD
   * .note = calculated as incomingBytes * $0.50/GB (varies by region)
   */
  estimatedCostUsd?: number;
}

export class DeclaredAwsCloudWatchLogsIngestionStats
  extends DomainLiteral<DeclaredAwsCloudWatchLogsIngestionStats>
  implements DeclaredAwsCloudWatchLogsIngestionStats
{
  public static nested = {
    logGroup: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>,
  };
}
```

### Literals (Enums)

#### DeclaredAwsCloudWatchLogGroupClass

```typescript
/**
 * .what = the storage class for a CloudWatch Log Group
 */
export type DeclaredAwsCloudWatchLogGroupClass =
  | 'STANDARD'           // Full feature set
  | 'INFREQUENT_ACCESS'  // Reduced features, lower cost
  | 'DELIVERY';          // For delivering Lambda logs to S3/Firehose only
```

#### DeclaredAwsCloudWatchLogsQueryLanguage

```typescript
/**
 * .what = the query language for Logs Insights queries
 */
export type DeclaredAwsCloudWatchLogsQueryLanguage =
  | 'CWLI'  // CloudWatch Logs Insights Query Language (default)
  | 'SQL'   // OpenSearch SQL
  | 'PPL';  // OpenSearch Piped Processing Language
```

#### DeclaredAwsCloudWatchLogsQueryStatus

```typescript
/**
 * .what = the status of a Logs Insights query
 */
export type DeclaredAwsCloudWatchLogsQueryStatus =
  | 'Scheduled'
  | 'Running'
  | 'Complete'
  | 'Failed'
  | 'Cancelled'
  | 'Timeout'
  | 'Unknown';
```

---

## Domain Operations

### Read Operations

#### getOneLogGroup

```typescript
import { RefByUnique, RefByPrimary, Ref, HasReadonly } from 'domain-objects';
import { PickOne } from 'type-fns';

/**
 * .what = gets a single log group from AWS
 * .why = enables lookup by primary (arn) or unique (name)
 */
export const getOneLogGroup = async (
  input: {
    by: PickOne<{
      primary: RefByPrimary<typeof DeclaredAwsCloudWatchLogGroup>;
      unique: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>;
      ref: Ref<typeof DeclaredAwsCloudWatchLogGroup>;
    }>;
  },
  context: ContextAwsApi,
): Promise<HasReadonly<typeof DeclaredAwsCloudWatchLogGroup> | null> => {
  // Uses: CloudWatchLogsClient, DescribeLogGroupsCommand
};
```

#### getAllLogGroups

```typescript
/**
 * .what = lists all log groups from AWS
 * .why = enables bulk retrieval and filtering
 */
export const getAllLogGroups = async (
  input: {
    filter?: {
      prefix?: string;  // e.g., '/aws/lambda/'
    };
    page?: {
      token?: string;
      limit?: number;
    };
  },
  context: ContextAwsApi,
): Promise<HasReadonly<typeof DeclaredAwsCloudWatchLogGroup>[]> => {
  // Uses: CloudWatchLogsClient, DescribeLogGroupsCommand
};
```

#### getAllLogStreams

```typescript
/**
 * .what = lists log streams within a log group
 */
export const getAllLogStreams = async (
  input: {
    logGroup: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>;
    filter?: {
      prefix?: string;
    };
    orderBy?: 'LogStreamName' | 'LastEventTime';
    page?: {
      token?: string;
      limit?: number;
    };
  },
  context: ContextAwsApi,
): Promise<HasReadonly<typeof DeclaredAwsCloudWatchLogStream>[]> => {
  // Uses: CloudWatchLogsClient, DescribeLogStreamsCommand
};
```

#### getLogEvents

```typescript
/**
 * .what = retrieves log events from a specific log stream
 * .note = for large-scale queries, use startLogsQuery instead
 */
export const getLogEvents = async (
  input: {
    logStream: RefByUnique<typeof DeclaredAwsCloudWatchLogStream>;
    startTime?: UniDateTime;
    endTime?: UniDateTime;
    page?: {
      token?: string;
      limit?: number;
    };
  },
  context: ContextAwsApi,
): Promise<DeclaredAwsCloudWatchLogEvent[]> => {
  // Uses: CloudWatchLogsClient, GetLogEventsCommand
};
```

#### filterLogEvents

```typescript
/**
 * .what = searches log events across streams with filter patterns
 * .note = more flexible than getLogEvents but not as powerful as Logs Insights
 */
export const filterLogEvents = async (
  input: {
    logGroup: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>;
    filterPattern?: string;  // CloudWatch filter pattern syntax
    startTime?: UniDateTime;
    endTime?: UniDateTime;
    logStreamNames?: string[];
    page?: {
      token?: string;
      limit?: number;
    };
  },
  context: ContextAwsApi,
): Promise<DeclaredAwsCloudWatchLogEvent[]> => {
  // Uses: CloudWatchLogsClient, FilterLogEventsCommand
};
```

### Query Operations (Analytics)

#### startLogsQuery

```typescript
/**
 * .what = starts a CloudWatch Logs Insights query
 * .why = enables powerful log analytics with aggregation
 */
export const startLogsQuery = async (
  input: {
    query: Omit<DeclaredAwsCloudWatchLogsQuery, 'queryId' | 'status'>;
  },
  context: ContextAwsApi,
): Promise<{ queryId: string }> => {
  // Uses: CloudWatchLogsClient, StartQueryCommand
};
```

#### getLogsQueryResults

```typescript
/**
 * .what = retrieves results from a Logs Insights query
 * .why = enables async polling for query completion
 */
export const getLogsQueryResults = async (
  input: {
    queryId: string;
  },
  context: ContextAwsApi,
): Promise<{
  status: DeclaredAwsCloudWatchLogsQueryStatus;
  results: DeclaredAwsCloudWatchLogsQueryResult[];
  statistics?: {
    recordsMatched: number;
    recordsScanned: number;
    bytesScanned: number;
  };
}> => {
  // Uses: CloudWatchLogsClient, GetQueryResultsCommand
};
```

#### stopLogsQuery

```typescript
/**
 * .what = cancels a running Logs Insights query
 */
export const stopLogsQuery = async (
  input: {
    queryId: string;
  },
  context: ContextAwsApi,
): Promise<{ success: boolean }> => {
  // Uses: CloudWatchLogsClient, StopQueryCommand
};
```

#### executeLogsQuery

```typescript
/**
 * .what = executes a Logs Insights query and waits for results
 * .why = convenience wrapper that handles polling
 */
export const executeLogsQuery = async (
  input: {
    query: Omit<DeclaredAwsCloudWatchLogsQuery, 'queryId' | 'status'>;
    pollInterval?: number;  // ms, default 1000
    timeout?: number;       // ms, default 60000
  },
  context: ContextAwsApi,
): Promise<{
  results: DeclaredAwsCloudWatchLogsQueryResult[];
  statistics?: {
    recordsMatched: number;
    recordsScanned: number;
    bytesScanned: number;
  };
}> => {
  // Combines: startLogsQuery + polling getLogsQueryResults
};
```

### Composite Operations (For the Wish)

#### getLogMessageHistogram

```typescript
/**
 * .what = gets a histogram of log messages for analysis
 * .why = directly fulfills the wish for message frequency/size analysis
 */
export const getLogMessageHistogram = async (
  input: {
    logGroups: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>[];
    startTime: UniDateTime;
    endTime: UniDateTime;
    limit?: number;  // default 100
    groupBy?: 'message' | 'pattern';  // pattern uses parse to extract common patterns
  },
  context: ContextAwsApi,
): Promise<DeclaredAwsCloudWatchLogsMessageHistogramEntry[]> => {
  // Implementation:
  // 1. Build query:
  //    fields @message
  //    | stats count(*) as frequency,
  //            sum(strlen(@message)) as totalBytes,
  //            avg(strlen(@message)) as avgBytes
  //      by @message
  //    | sort frequency desc
  //    | limit {limit}
  // 2. Execute via executeLogsQuery
  // 3. Transform results into DeclaredAwsCloudWatchLogsMessageHistogramEntry[]
};
```

#### getLogIngestionStats

```typescript
/**
 * .what = gets ingestion statistics for log groups
 * .why = enables cost analysis and monitoring
 */
export const getLogIngestionStats = async (
  input: {
    logGroups: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>[];
    startTime: UniDateTime;
    endTime: UniDateTime;
    period?: number;  // seconds, default 86400 (daily)
  },
  context: ContextAwsApi,
): Promise<DeclaredAwsCloudWatchLogsIngestionStats[]> => {
  // Uses: CloudWatchClient, GetMetricDataCommand
  // Namespace: AWS/Logs
  // Metrics: IncomingBytes, IncomingLogEvents
  // Dimensions: LogGroupName
};
```

### Write Operations

#### setLogGroup

```typescript
/**
 * .what = creates or updates a log group
 * .why = enables declarative log group management
 */
export const setLogGroup = async (
  input: {
    logGroup: Omit<DeclaredAwsCloudWatchLogGroup, 'arn' | 'createdAt' | 'storedBytes'>;
  },
  context: ContextAwsApi,
): Promise<HasReadonly<typeof DeclaredAwsCloudWatchLogGroup>> => {
  // Uses: CreateLogGroupCommand, PutRetentionPolicyCommand
};
```

#### delLogGroup

```typescript
/**
 * .what = deletes a log group
 */
export const delLogGroup = async (
  input: {
    by: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>;
  },
  context: ContextAwsApi,
): Promise<void> => {
  // Uses: DeleteLogGroupCommand
};
```

#### setLogGroupRetention

```typescript
/**
 * .what = sets or removes the retention policy for a log group
 */
export const setLogGroupRetention = async (
  input: {
    logGroup: RefByUnique<typeof DeclaredAwsCloudWatchLogGroup>;
    retentionInDays: number | null;  // null removes policy (never expire)
  },
  context: ContextAwsApi,
): Promise<void> => {
  // Uses: PutRetentionPolicyCommand or DeleteRetentionPolicyCommand
};
```

#### setLogsQueryDefinition

```typescript
/**
 * .what = saves a query definition for reuse
 */
export const setLogsQueryDefinition = async (
  input: {
    queryDefinition: Omit<DeclaredAwsCloudWatchLogsQueryDefinition, 'queryDefinitionId'>;
  },
  context: ContextAwsApi,
): Promise<DeclaredAwsCloudWatchLogsQueryDefinition> => {
  // Uses: PutQueryDefinitionCommand
};
```

#### delLogsQueryDefinition

```typescript
/**
 * .what = deletes a saved query definition
 */
export const delLogsQueryDefinition = async (
  input: {
    by: RefByPrimary<typeof DeclaredAwsCloudWatchLogsQueryDefinition>;
  },
  context: ContextAwsApi,
): Promise<void> => {
  // Uses: DeleteQueryDefinitionCommand
};
```

---

## Key Constraints

1. **Query Concurrency**: Max 30 concurrent Logs Insights queries per account
2. **Query Time Range**: Queries can span up to 24 hours of log events per batch
3. **Query Results**: Max 10,000 results per query
4. **Log Event Size**: Max 1MB per log event
5. **Batch Size**: Max 10,000 log events or 1MB per GetLogEvents/FilterLogEvents call
6. **Rate Limits**: GetLogEvents/FilterLogEvents are not scalable for large volumes
7. **StoredBytes Delay**: `storedBytes` attribute updates ~24 hours behind real-time
8. **Metric Period**: CloudWatch metrics have minimum 1-minute granularity

---

## AWS SDK Dependencies

```typescript
import {
  CloudWatchLogsClient,
  DescribeLogGroupsCommand,
  DescribeLogStreamsCommand,
  GetLogEventsCommand,
  FilterLogEventsCommand,
  StartQueryCommand,
  GetQueryResultsCommand,
  StopQueryCommand,
  CreateLogGroupCommand,
  DeleteLogGroupCommand,
  PutRetentionPolicyCommand,
  DeleteRetentionPolicyCommand,
  PutQueryDefinitionCommand,
  DeleteQueryDefinitionCommand,
  DescribeQueryDefinitionsCommand,
  GetLogGroupFieldsCommand,
} from '@aws-sdk/client-cloudwatch-logs';

import {
  CloudWatchClient,
  GetMetricDataCommand,
  GetMetricStatisticsCommand,
} from '@aws-sdk/client-cloudwatch';
```

---

## Sources

- [CloudWatch Logs Concepts](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/CloudWatchLogsConcepts.html)
- [LogGroup API Reference](https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_LogGroup.html)
- [DescribeLogStreams API](https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_DescribeLogStreams.html)
- [StartQuery API](https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_StartQuery.html)
- [GetQueryResults API](https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_GetQueryResults.html)
- [Logs Insights Query Syntax](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/CWL_QuerySyntax.html)
- [Stats Query Command](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/CWL_QuerySyntax-Stats.html)
- [CloudWatch Logs Metrics](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/CloudWatch-Logs-Monitoring-CloudWatch-Metrics.html)
